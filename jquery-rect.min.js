(function(a){a.rect=function(c,l){var g=this;var d={position:"position",dimension:"outer",withMargin:true};g.settings={};var j=function(){g.settings=a.extend({},d,l);g.el=c};g.getRect=function(m){return e(a.extend(m[g.settings.position](),h(m)))};g.getBox=function(m){return f(g.getRect(m))};var k=function(m){return{left:m.left,top:m.left,width:m.right-m.left,height:m.bottom-m.top}};var f=function(m){return{left:m.left,top:m.top,right:m.left+m.width,bottom:m.top+m.height}};var e=function(o){var n,m={};for(n in o){m[n]=parseFloat(o[n])}return m};var i=function(o){var n,m={};for(n in o){m[n]=parseFloat(o[n])+"px"}return m};var h=function(m){return g.settings.dimension!="css"?{width:a(m).outerWidth(g.settings.withMargin),height:a(m).outerHeight(g.settings.withMargin)}:{width:a(m).css("width"),height:a(m).css("height")}};var b=function(m){if(!m.width&&!m.height){return(m.right-m.left)*(m.bottom-m.top)}return m.width*m.height};g.intersects=function(p,o){if(!p){return false}var n=g.getBox(g.el),m=g.getBox(p);if(n.left<=m.right&&m.left<=n.right&&n.top<=m.bottom&&m.top<=n.bottom){if(o){return[n,m]}return true}return false};g.intersection=function(o,s){var r=g.intersects(o,true);if(!r){return false}var v=r[0],t=r[1],p=Math.max(v.left,t.left),m=Math.min(v.right,t.right),w,u,x;if(p<=m){w=Math.max(v.top,t.top);u=Math.min(v.bottom,t.bottom);if(w<=u){iBox={left:p,top:w,right:m,bottom:u};if(s=="box"){return iBox}if(s=="portion"){var q=b(v),n=b(k(iBox));return n/q}return k(iBox)}}return null};j()}}(jQuery));
