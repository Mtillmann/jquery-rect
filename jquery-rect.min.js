(function(a){a.rect=function(b,k){var f=this;var c={position:"position",dimension:"offset",withMargin:true};f.settings={};var i=function(){f.settings=a.extend({},c,k);f.el=b};f.getRect=function(l){return d(a.extend(l[f.settings.position](),g(l)))};f.getBox=function(l){return e(f.getRect(l))};var j=function(l){return{left:l.left,top:l.left,width:l.right-l.left,height:l.bottom-l.top}};var e=function(l){return{left:l.left,top:l.top,right:l.left+l.width,bottom:l.top+l.height}};var d=function(n){var m,l={};for(m in n){l[m]=parseInt(n[m],10)}return l};var h=function(n){var m,l={};for(m in n){l[m]=parseInt(n[m],10)+"px"}return l};var g=function(l){if(f.settings.dimension!="css"){return{width:a(l).outerWidth(f.settings.withMargin),height:a(l).outerHeight(f.settings.withMargin)}}return{width:a(l).css("width"),height:a(l).css("height")}};f.intersects=function(o,n){if(!o){return false}var m=f.getBox(f.el),l=f.getBox(o);if(m.left<=l.right&&l.left<=m.right&&m.top<=l.bottom&&l.top<=m.bottom){if(n){return[m,l]}return true}return false};f.intersection=function(m,p){var o=f.intersects(m,true);if(!o){return false}var s=o[0],q=o[1],n=Math.max(s.left,q.left),l=Math.min(s.right,q.right),t,r,u;if(n<=l){t=Math.max(s.top,q.top);r=Math.min(s.bottom,q.bottom);if(t<=r){iBox={left:n,top:t,right:l,bottom:r};if(p=="box"){return iBox}return j(iBox)}}return null};i()}}(jQuery));
